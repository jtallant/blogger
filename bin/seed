#!/usr/bin/env node

const models = require('../models'); // models/index.js
const fixtures = require('../fixtures'); // fixtures/index.js

models.users.sync({ force: true }).then(function() {

  fixtures.users.forEach(function(fixture) {
    models.users.create(fixture);
  });

  models.profiles.sync({ force: true }).then(function() {
    fixtures.profiles.forEach(function(fixture) {
      models.profiles.create(fixture);
    });
  });

  models.post_tags.sync({ force:true }).then(function() {
    models.tags.sync({ force:true }).then(function() {
      // code
    });

    models.posts.sync({ force: true }).then(function() {
      fixtures.posts.forEach(function(fixture) {
        models.posts.create(fixture);
      });

      models.comments.sync({ force: true }).then(function() {
        // code
      });
    });
  });

});